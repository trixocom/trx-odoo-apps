<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        
        <!-- Categoría del módulo -->
        <record id="module_category_sale_order_edit" model="ir.module.category">
            <field name="name">Edición de Ventas</field>
            <field name="sequence">100</field>
        </record>

        <!-- Grupo: Puede Modificar Precios y Cantidades -->
        <record id="group_sale_order_edit_price_qty" model="res.groups">
            <field name="name">Puede Modificar Precios y Cantidades en Ventas</field>
            <field name="category_id" ref="module_category_sale_order_edit"/>
        </record>

        <!-- Permisos de CAMPO: Bloquear price_unit para todos excepto el grupo -->
        <record id="field_access_price_unit_read" model="ir.model.fields.access">
            <field name="name">sale.order.line.price_unit.read.all</field>
            <field name="model_id" ref="sale.model_sale_order_line"/>
            <field name="field_id" ref="sale.field_sale_order_line__price_unit"/>
            <field name="perm_read" eval="1"/>
            <field name="perm_write" eval="0"/>
        </record>
        
        <record id="field_access_price_unit_write" model="ir.model.fields.access">
            <field name="name">sale.order.line.price_unit.write.group</field>
            <field name="model_id" ref="sale.model_sale_order_line"/>
            <field name="field_id" ref="sale.field_sale_order_line__price_unit"/>
            <field name="group_id" ref="group_sale_order_edit_price_qty"/>
            <field name="perm_read" eval="1"/>
            <field name="perm_write" eval="1"/>
        </record>

        <!-- Permisos de CAMPO: Bloquear product_uom_qty para todos excepto el grupo -->
        <record id="field_access_qty_read" model="ir.model.fields.access">
            <field name="name">sale.order.line.qty.read.all</field>
            <field name="model_id" ref="sale.model_sale_order_line"/>
            <field name="field_id" ref="sale.field_sale_order_line__product_uom_qty"/>
            <field name="perm_read" eval="1"/>
            <field name="perm_write" eval="0"/>
        </record>
        
        <record id="field_access_qty_write" model="ir.model.fields.access">
            <field name="name">sale.order.line.qty.write.group</field>
            <field name="model_id" ref="sale.model_sale_order_line"/>
            <field name="field_id" ref="sale.field_sale_order_line__product_uom_qty"/>
            <field name="group_id" ref="group_sale_order_edit_price_qty"/>
            <field name="perm_read" eval="1"/>
            <field name="perm_write" eval="1"/>
        </record>

    </data>
</odoo>
